# Abdal Gost Proxy

**[English (README.md)](README.md)** | ูุงุฑุณ

---

![dgram.jpg](dgram.jpg)

---

## ูุฏู ู ุฏูู ุณุงุฎุช ุงู ูุฑูโุงูุฒุงุฑ

**Abdal Gost Proxy** ฺฉ ุณุณุชู ูพุฑูฺฉุณ ุณูุช ฺฉูุงูุช/ุณุฑูุฑ ุงุณุช ฺฉู ุจู ุดูุง ฺฉูฺฉ ูโฺฉูุฏ:

- **ุนุจูุฑ ุงุฒ ููุชุฑูฺฏ ู DPI** ุจุง ุงูุชูุงู ุชุฑุงูฺฉ ุฑู **VLESS + gRPC** ู **XTLS-Reality**ุ ุทูุฑ ฺฉู ุงุฒ ูุธุฑ ุดุจฺฉู ุดุจู ุจุงุฒุฏุฏ ุงุฒ ฺฉ ุณุงุช ูุนุชุจุฑ (ูุซูุงู google.com ุง google.com) ุฏุฏู ุดูุฏ.
- **ุจุฏูู ูุงุฒ ุจู ฺฏูุงู SSL ุงุฎุชุตุงุต** ุฑู ุณุฑูุฑ: Reality ุธุงูุฑ ุชุฑุงูฺฉ ุฑุง ุดุจู ฺฉ ุณุงุช ูุงูุน ูโฺฉูุฏุ ุจูุงุจุฑุงู ุณุฑูุฑ ุจู ฺฏูุงู TLS ุฎูุฏุด ูุงุฒ ูุฏุงุฑุฏ.
- **ุงุณุชูุงุฏู ุงุฒ ฺฉ ูพุฑูฺฉุณ SOCKS5 ูุญู** ุฑู ุฑุงุงููุ ูุฑูุฑฺฏุฑ ุง ุงูพูฺฉุดูโูุง ุฑุง ุฑู ุงู ูพุฑูฺฉุณ ุชูุธู ูโฺฉูุฏ ู ุชุฑุงูฺฉ ุงุฒ ุทุฑู ุชููู ุจู ุณุฑูุฑ ุดูุง ูุฑุณุชุงุฏู ูโุดูุฏ.

ุงู ูพุฑูฺู ุงุฒ ุงุฏูโูุง **[Gost](https://github.com/go-gost/gost)** ุจุฑุง ูุฏุฑุช ุชููู ู **[Xray-core](https://github.com/XTLS/Xray-core)** ุจุฑุง ูพุฑูุชฺฉู VLESS ู ุงููุช Reality ุงุณุชูุงุฏู ูโฺฉูุฏ.

---

## ุงูฺฉุงูุงุช ู ูุงุจูุชโูุง

| ูุงุจูุช | ุชูุถุญ |
|--------|--------|
| **VLESS** | ูพุฑูุชฺฉู ุณุจฺฉ ุจุฑุง ุงูุชูุงู ุชุฑุงูฺฉ ูพุฑูฺฉุณ. |
| **XTLS-Reality** | ูุฎูโุณุงุฒ ูพุฑูฺฉุณ ุฏุฑ ูุงูุจ ุจุงุฒุฏุฏ ุงุฒ ฺฉ ุณุงุช ูุงูุน (ูุซูุงู google.com) ุจุฏูู ฺฏูุงู SSL ุฎูุฏุชุงู. |
| **gRPC (HTTP/2)** | ูุงู ุงูุชูุงู ุจุฑุง ุนุจูุฑ ุจูุชุฑ ุชุฑุงูฺฉ ุงุฒ DPI. |
| **ุงุซุฑ ุงูฺฏุดุช uTLS** | ฺฉูุงูุช ูโุชูุงูุฏ ุฎูุฏ ุฑุง ุดุจู ูุฑูุฑฺฏุฑ (ูุซูุงู Chrome) ูุดุงู ุฏูุฏ ุชุง ุดูุงุณุง ฺฉูุชุฑ ุดูุฏ. |
| **ุฏุฑฺฏุงู SOCKS5** | ุดููุฏ ูุญู SOCKS5ุ ุงูพูฺฉุดูโูุง ูุซู ฺฉ ูพุฑูฺฉุณ ูุนููู ุงุฒ ุขู ุงุณุชูุงุฏู ูโฺฉููุฏ. |
| **ุจุฑุฑุณ ุณูุงูุช (Health Check)** | ุจุฑุฑุณ ุฏูุฑูโุง ุงุฎุชุงุฑ ุจุง ูุงุตููุ ุฒูุงู ุงูุชุธุงุฑุ ุชุนุฏุงุฏ ุชูุงุด ู ุขุฏุฑุณ ูุงุจู ุชูุธู. |
| **ุงุชุตุงู ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ (Re-dial)** | ูพุณ ุงุฒ ฺูุฏ ุจุงุฑ ุดฺฉุณุช ุฏุฑ ุจุฑุฑุณ ุณูุงูุชุ ฺฉูุงูุช ุชููู ุฑุง ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ. |
| **Fallback** | ุฑู ุณุฑูุฑุ ุชุฑุงูฺฉ ุจุฏูู ุงุญุฑุงุฒ ููุช ูโุชูุงูุฏ ุจู ฺฉ ุณุงุช ุฏฺฏุฑ (ูุซูุงู google.com) ูุฏุงุช ุดูุฏ. |

---

## ูุญูู ฺฉุงุฑฺฉุฑุฏ

![dgram.jpg](dgram.jpg)

```
[ูุฑูุฑฺฏุฑ/ุงูพ] โ SOCKS5 (127.0.0.1:10808) โ [ฺฏุช] โ [ฺฉูุงูุช Abdal Gost Proxy]
                                                          โ
                                              VLESS + gRPC + Reality
                                                          โ
[ุณุฑูุฑ Abdal Gost Proxy] (0.0.0.0:443) โ ููุฏุดฺฉ Reality โ [ุงูุชุฑูุช]
```

- **ุณุฑูุฑ:** ุฑู ูพูุฑุช ดดณ ุดููุฏ ูโฺฉูุฏ. VLESS ุฑู gRPC ุฑู Reality ุฑุง ูโูพุฐุฑุฏ. ุงฺฏุฑ ุงุชุตุงู ูุนุชุจุฑ Reality/VLESS ูุจุงุดุฏุ ูโุชูุงูุฏ ุจู ฺฉ ุณุงุช ูุงูุน (ูุซูุงู google.com) Fallback ฺฉูุฏ.
- **ฺฉูุงูุช:** ุฑู ฺฉ ูพูุฑุช ูุญู (ูุซูุงู ฑฐธฐธ) ุจู ุตูุฑุช SOCKS5 ุดููุฏ ูโฺฉูุฏ. ุชุฑุงูฺฉ ุฑุง ุจู Xray ูโูุฑุณุชุฏุ Xray ุขู ุฑุง ุฏุฑ VLESS ุจุณุชูโุจูุฏ ู ุฑู gRPC + Reality ุจู ุณุฑูุฑ ุงุฑุณุงู ูโฺฉูุฏ. ุจุง ูุนุงู ุจูุฏู Health Check ู Re-dialุ ุชููู ูพุงุฏุงุฑ ูโูุงูุฏ.

---

## ูพุดโูุงุฒูุง

- **Go 1.21+** (ุจุฑุง ุจูุฏ).
- **ุณุฑูุฑ:** ฺฉ VPS ุง ูุงุดู ุจุง IP ุนููู ู ุจุงุฒ ุจูุฏู ูพูุฑุช ดดณ.
- **ฺฉูุงูุช:** ููุฏูุฒ ุง ูููฺฉุณุ ูุงู ุชูุธูุงุช ุฏุฑ ฺฉูุงุฑ ูุงู ุงุฌุฑุง.

---

## ุจูุฏ

ุงุฒ ุฑุดูู ูพุฑูฺู:

```bash
# ุจูุฏ ููุฏูุฒ ู ูููฺฉุณ ู ฺฉูพ ุชูุธูุงุช ุฏุฑ dist/
build-dist.bat
```

ุฎุฑูุฌ:

- `dist/windows/` โ ุณุฑูุฑุ ฺฉูุงูุช ู reality-keygen (ุจุง ูพุณููุฏ `.exe`) + ูุงูโูุง ูููููู ุชูุธูุงุช.
- `dist/linux/` โ ููุงูุ ุจุฏูู `.exe`.

ุง ุจู ุตูุฑุช ุฏุณุช:

```bash
go mod tidy
go build -o abdal-gost-proxy-server.exe main.go
go build -o abdal-gost-proxy-client.exe client_main.go
go build -o reality-keygen.exe ./tools/reality-keygen
```

---

## ุฑุงูููุง ุชูุธูุงุช (ฺฉุงููฺฏ)

### ฑ. ุณุงุฎุช UUID ู ฺฉูุฏูุง Reality

ฺฉ ุจุงุฑ ุงุฌุฑุง ฺฉูุฏ:

```bash
go run ./tools/reality-keygen
```

ุฎุฑูุฌ:

- **uuid** โ ููุงู ููุฏุงุฑ ุฑุง ุฏุฑ ุณุฑูุฑ ุฏุฑ `users[].id` ู ุฏุฑ ฺฉูุงูุช ุฏุฑ `uuid` ูุฑุงุฑ ุฏูุฏ.
- **private_key** โ ููุท ุณุฑูุฑุ ุฏุฑ `abdal-gost-proxy-server.json` โ `reality_settings.private_key`.
- **reality_public_key** โ ููุท ฺฉูุงูุชุ ุฏุฑ `abdal-gost-proxy-client.json` โ `reality_public_key`.

ุณุงุฎุช **short_id** (ูุซูุงู ูฺฏุฒ):

```bash
openssl rand -hex 8
```

ฺฉ ุง ฺูุฏ ููุฏุงุฑ ุฏุฑ `reality_settings.short_ids` ุณุฑูุฑ ุจฺฏุฐุงุฑุฏ ู ฺฉ ุฑุง ุฏุฑ `short_id` ฺฉูุงูุช ุงุณุชูุงุฏู ฺฉูุฏ.

---

### ฒ. ุชูุธูุงุช ุณุฑูุฑ: `abdal-gost-proxy-server.json`

| ููุฏ | ุชูุถุญ |
|------|--------|
| `listen_address` | ุขุฏุฑุณ ุดููุฏ (ูุซูุงู `0.0.0.0`). |
| `listen_port` | ูุนูููุงู `443`. |
| `protocol` | `vless`. |
| `users` | ูุณุช ฺฉุงุฑุจุฑุงู VLESSุ ูุฑ ฺฉุฏุงู `id` (UUID)ุ `email`ุ `flow` (ุจุฑุง gRPC ุฎุงู ุจฺฏุฐุงุฑุฏ ุง ุญุฐู ฺฉูุฏ). |
| `reality_settings.dest` | ุณุงุช:ูพูุฑุช Fallback ููุช ุงุชุตุงู ูุนุชุจุฑ ูุณุช (ูุซูุงู `www.google.com:443`). |
| `reality_settings.server_names` | ูุณุช SNI (ูุซูุงู `["www.google.com","google.com"]`). |
| `reality_settings.private_key` | ุฎุฑูุฌ reality-keygen (ูุญุฑูุงูู). |
| `reality_settings.short_ids` | ูุณุช short ID (ูุซูุงู ุงุฒ `openssl rand -hex 8`). |
| `transport.type` | `grpc`. |
| `transport.service_name` | ุจุงุฏ ุจุง ฺฉูุงูุช ฺฉ ุจุงุดุฏ (ูุซูุงู `abdal-grpc-stream`). |
| `transport.multi_mode` | ุงุฎุชุงุฑ ุจุฑุง gRPC. |
| `fallback.dest` | ูพูุฑุช ุง host:port ุจุฑุง Fallback ุฏุฑ ุตูุฑุช ูุงุฒ. |
| `fallback.xver` | ูุณุฎู Proxy Protocol (ูุซูุงู `0`). |

**ฺฏุฒููโูุง ูพุดุชุจุงูโุดุฏู (ุณุฑูุฑ):**

| ฺฏุฒูู | ููุงุฏุฑ ูุฌุงุฒ / ุชูุถุญ |
|--------|------------------------|
| `listen_address` | `0.0.0.0` (ููู ุฑุงุจุทโูุง) ุง ฺฉ IP ูุดุฎุตุ ูุซูุงู `192.168.1.1`. |
| `listen_port` | ูุฑ ูพูุฑุช ุขุฒุงุฏุ ูุนูููุงู `443`. |
| `protocol` | `vless` (ุชููุง ูพุฑูุชฺฉู ุงุณุชูุงุฏูโุดุฏู ุฏุฑ ุงู ุณุณุชู). |
| `users[].flow` | ุจุง gRPC ุญุชูุงู `""` (ุฎุงู) โ **ุงูุฒุงู**. ุจุง gRPC ุงุฒ `xtls-rprx-vision` ุงุณุชูุงุฏู **ูฺฉูุฏ**. |
| `reality_settings.dest` | ุฑุดุชู `"host:port"`ุ ูุซูุงู `www.google.com:443`ุ `www.google.com:443`. ุจุงุฏ ฺฉ ุณุงุช TLS ูุงูุน ุจุงุดุฏ. |
| `reality_settings.server_names` | ุขุฑุงูู ุฑุดุชูู SNIุ ูุนูููุงู ุงููู ุจุง hostname ุฏุฑ `dest` ฺฉ ุงุณุช. |
| `reality_settings.short_ids` | ุขุฑุงูู ุฑุดุชู ูฺฏุฒ (ูุซูุงู ุงุฒ `openssl rand -hex 8`)ุ ูุฑ ฺฉุฏุงู ฒ ุชุง ฑถ ฺฉุงุฑุงฺฉุชุฑ. |
| `transport.type` | `grpc` (ุงู ุณุณุชู ููุท ุงุฒ gRPC ุงุณุชูุงุฏู ูโฺฉูุฏ). |
| `transport.service_name` | ูุฑ ุฑุดุชูุ ุจุงุฏ ุจุง ฺฉูุงูุช ฺฉ ุจุงุดุฏ. ุชุฑุฌุญุงู ูุงู ูพุดโูุฑุถ ูุจุงุดุฏุ ูุซูุงู `abdal-grpc-stream`. |
| `transport.multi_mode` | `true` ุง `false`. |
| `fallback.dest` | ุนุฏุฏ (ููุท ูพูุฑุชุ ูุซูุงู `80`) ุง ุฑุดุชู `"host:port"`. |
| `fallback.xver` | `0` (ุฎุงููุด)ุ `1` ุง `2` (Proxy Protocol). |

ูููููู ฺฉููู:

```json
{
  "listen_address": "0.0.0.0",
  "listen_port": 443,
  "protocol": "vless",
  "users": [
    {
      "id": "YOUR-UUID-FROM-REALITY-KEYGEN",
      "email": "admin@abdal",
      "flow": ""
    }
  ],
  "reality_settings": {
    "enabled": true,
    "dest": "www.google.com:443",
    "server_names": ["www.google.com", "google.com"],
    "private_key": "YOUR_PRIVATE_KEY",
    "short_ids": ["1a2b3c4d5e6f"]
  },
  "transport": {
    "type": "grpc",
    "service_name": "abdal-grpc-stream",
    "multi_mode": true
  },
  "fallback": { "dest": 80, "xver": 0 }
}
```

**ุชูุฌู:** ุจุฑุง ุงูุชูุงู gRPCุ ููุฏุงุฑ `flow` ุฑุง ุฎุงู ุจฺฏุฐุงุฑุฏ (ุง ูููุณุฏ). ุงุฒ `xtls-rprx-vision` ููุฑุงู gRPC ุงุณุชูุงุฏู ูฺฉูุฏ.

---

### ณ. ุชูุธูุงุช ฺฉูุงูุช: `abdal-gost-proxy-client.json`

| ููุฏ | ุชูุถุญ |
|------|--------|
| `local_port` | ูพูุฑุช SOCKS5 ูุญู (ูุซูุงู `10808`). |
| `server_addr` | IP ุง ุฏุงูููู ุณุฑูุฑ. |
| `server_port` | ูุนูููุงู `443`. |
| `uuid` | ููุงู `id` ฺฉุงุฑุจุฑ ุฏุฑ ุณุฑูุฑ. |
| `reality_public_key` | ุฎุฑูุฌ reality-keygen (ฺฉูุฏ ุนููู ุณุฑูุฑ). |
| `short_id` | ฺฉ ุงุฒ `short_ids` ุณุฑูุฑ. |
| `sni` | ุจุงุฏ ุจุง ุณุงุช Reality ฺฉ ุจุงุดุฏ (ูุซูุงู `www.google.com`). |
| `fingerprint` | ุงุซุฑ ุงูฺฏุดุช uTLS: ูุซูุงู `chrome`ุ `firefox`. |
| `transport` | `grpc`. |
| `service_name` | ุจุงุฏ ุจุง ุณุฑูุฑ ฺฉ ุจุงุดุฏ (ูุซูุงู `abdal-grpc-stream`). |
| `health_check` | ุงุฎุชุงุฑ: `enabled`, `interval_seconds`, `timeout_seconds`, `max_retries`, `check_url`. |

**ฺฏุฒููโูุง ูพุดุชุจุงูโุดุฏู (ฺฉูุงูุช):**

| ฺฏุฒูู | ููุงุฏุฑ ูุฌุงุฒ / ุชูุถุญ |
|--------|------------------------|
| `local_port` | ูุฑ ูพูุฑุช ุขุฒุงุฏ ฑ ุชุง ถตตณตุ ูุนูููุงู `10808`. |
| `server_addr` | IP ุง ุฏุงูููู ุณุฑูุฑ. |
| `server_port` | ูุนูููุงู `443`. |
| `sni` | ุจุงุฏ ุจุง ุณุงุช Reality ฺฉ ุจุงุดุฏ (ููุงู hostname ุฏุฑ `reality_settings.dest` ุณุฑูุฑ)ุ ูุซูุงู `www.google.com`ุ `www.google.com`. |
| `fingerprint` | ุงุซุฑ ุงูฺฏุดุช uTLSุ ฺฉ ุงุฒ: `chrome`, `firefox`, `safari`, `ios`, `android`, `edge`, `360`, `qq`, `random`. ุฏุฑ ุตูุฑุช ุฎุงู ุจูุฏู: `chrome`. |
| `transport` | `grpc` (ุงู ุณุณุชู ููุท ุงุฒ gRPC ุงุณุชูุงุฏู ูโฺฉูุฏ). |
| `service_name` | ุจุงุฏ ุฏููุงู ุจุง ุณุฑูุฑ ฺฉ ุจุงุดุฏ. |
| `health_check.enabled` | `true` ุง `false`. |
| `health_check.interval_seconds` | ุนุฏุฏ ูุซุจุชุ ูุงุตูู ุจู ูุฑ ุจุฑุฑุณ (ูุซูุงู `5`). |
| `health_check.timeout_seconds` | ุนุฏุฏ ูุซุจุชุ ุฒูุงู ุงูุชุธุงุฑ ูุฑ ุจุฑุฑุณ (ูุซูุงู `3`). |
| `health_check.max_retries` | ุนุฏุฏ ูุซุจุชุ ุชุนุฏุงุฏ ุชูุงุด ูุจู ุงุฒ ุงุชุตุงู ูุฌุฏุฏ (ูุซูุงู `3`). |
| `health_check.check_url` | ูุฑ ุขุฏุฑุณ HTTP(S) ุจุฑุง ุชุณุช ุงุชุตุงู ุงุฒ ุทุฑู ูพุฑูฺฉุณ (ูุซูุงู `http://www.google.com/generate_204`). |

ููููู:

```json
{
  "local_port": 10808,
  "server_addr": "YOUR_SERVER_IP",
  "server_port": 443,
  "uuid": "YOUR-UUID",
  "reality_public_key": "YOUR_PUBLIC_KEY",
  "short_id": "1a2b3c4d5e6f",
  "sni": "www.google.com",
  "fingerprint": "chrome",
  "transport": "grpc",
  "service_name": "abdal-grpc-stream",
  "health_check": {
    "enabled": true,
    "interval_seconds": 5,
    "timeout_seconds": 3,
    "max_retries": 3,
    "check_url": "http://www.google.com/generate_204"
  }
}
```

---

## ูุญูู ุงุณุชูุงุฏู

### ุณุฑูุฑ

1. ูุงู `abdal-gost-proxy-server.json` ุฑุง ฺฉูุงุฑ ูุงู ุงุฌุฑุง ุณุฑูุฑ ูุฑุงุฑ ุฏูุฏ.
2. ุงุฌุฑุง:
   - ููุฏูุฒ: `abdal-gost-proxy-server.exe`
   - ูููฺฉุณ: `./abdal-gost-proxy-server`
3. ูพูุฑุช ดดณ ุฑุง ุฏุฑ ูุงุฑูุงู ุจุงุฒ ฺฉูุฏ.

### ฺฉูุงูุช

1. ูุงู `abdal-gost-proxy-client.json` ุฑุง ฺฉูุงุฑ ูุงู ุงุฌุฑุง ฺฉูุงูุช ูุฑุงุฑ ุฏูุฏ.
2. ุงุฌุฑุง:
   - ููุฏูุฒ: `abdal-gost-proxy-client.exe`
   - ูููฺฉุณ: `./abdal-gost-proxy-client`
3. ูพุฑูฺฉุณ ูุฑูุฑฺฏุฑ ุง ุณุณุชู ุฑุง ุฑู **SOCKS5**ุ ุขุฏุฑุณ **127.0.0.1**ุ ูพูุฑุช **10808** (ุง ููุงู `local_port`) ุชูุธู ฺฉูุฏ.




---

## ๐ ฺฏุฒุงุฑุด ูุดฺฉูุงุช

ุงฺฏุฑ ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ ุง ุฏุฑ ูพฺฉุฑุจูุฏ ูุดฺฉู ุฏุงุฑุฏุ ูุทูุงู ุงุฒ ุทุฑู ุงูู **Prof.Shafiei@Gmail.com** ุจุง ูุง ุฏุฑ ุชูุงุณ ุจุงุดุฏ. ููฺูู ูโุชูุงูุฏ ูุดฺฉูุงุช ุฑุง ุฏุฑ GitLab ุง GitHub ฺฏุฒุงุฑุด ุฏูุฏ.

---

## โค๏ธ ุญูุงุช ูุงู

ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุง ุดูุง ููุฏ ุจูุฏ ู ูุงู ุจู ุญูุงุช ุงุฒ ุชูุณุนู ุจุดุชุฑ ูุณุชุฏุ ูุทูุงู ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ฺฉูฺฉ ูุงู ฺฉูุฏ:

- [ุงูุฌุง ุงูุฏุง ฺฉูุฏ](https://alphajet.ir/abdal-donation)

---

## ๐คต ุจุฑูุงููโููุณ

ุณุงุฎุชู ุดุฏู ุจุง ุนุดู ุชูุณุท **ุงุจุฑุงูู ุดูุน (EbraSha)**

- **ุงูู:** Prof.Shafiei@Gmail.com  
- **ุชูฺฏุฑุงู:** [@ProfShafiei](https://t.me/ProfShafiei)  
- **ฺฏุชโูุงุจ:** [ebrasha](https://github.com/ebrasha)  
- **ููฺฉุฏู:** [profshafiei](https://www.linkedin.com/in/profshafiei/)

---

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ **GPLv2 or later** ููุชุดุฑ ุดุฏู ุงุณุช.
